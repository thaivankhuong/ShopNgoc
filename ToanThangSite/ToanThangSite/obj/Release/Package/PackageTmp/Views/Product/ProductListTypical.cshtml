@model PagedList.IPagedList<ToanThangSite.Entities.Core.Product>
@using PagedList.Mvc
@using ToanThangSite.Business.Common
@{
    ViewBag.Title = "ProductListTypical";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<section id="body">

    <div class="product-slide-2 mb25">
        <div class="uk-container uk-container-center">
            <div class="border">
                <div class="heading">
                    <h3 class="title">Sản phẩm nổi bật</h3>
                </div>
                <div class="border">
                    <div class="uk-grid uk-grid-small uk-grid-width-small-1-2 uk-grid-width-medium-1-2 uk-grid-width-large-1-3" data-uk-grid-match="{target:'.title'}">
                        @foreach (var item in Model)
                        {
                            var url = "/" + item.Title.ToUrlFormat(true) + ".html";
                            <div class="mb35">
                                <figure class="item">
                                    <div class="upper">
                                        <a href="@url" title="@item.Title" class="thumb">
                                            <img src="@item.Thumb" alt="@item.Title.ToUrlFormat(true)">
                                        </a>
                                        <h3 class="title nl2"><a href="@url" title="@item.Title">@item.Title</a></h3>
                                    </div>
                                    <figcaption>
                                        <p class="text-1">
                                            <span>Giá bán: </span>
                                            <label>@String.Format("{0:0,0}", item.Price) VND</label>
                                        </p>
                                        <p class="text-2">
                                            <span>Khuyến mại: </span>
                                            <label>
                                                @if (item.PriceSale != "" && item.PriceSale != null)
                                            {
                                                @String.Format("{0:0,0} VND", item.PriceSale)
                                            }
                                            else
                                            {
                                                @String.Format("{0:0,0} VND", item.Price)
                                            }
                                        </label>
                                    </p>
                                </figcaption>
                            </figure>
                        </div>
                        }
                    </div>
                </div>

                <div class="uk-width-medium-1-1">
                    <div class="pagination-container">
                        <ul class="pagination">
                            @if (Model.PageCount > 1)
                            {
                                string urlpage = ViewBag.UrlProductTypical;
                                @Html.PagedListPager(Model, page => urlpage.ToString().Substring(0, urlpage.ToString().LastIndexOf('.')) + ".htmlpg=" + page);
                            }
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

